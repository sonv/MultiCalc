\documentclass[aspectratio=169]{beamer}
\usetheme{Copenhagen}
%% Remove draft for real article, put twocolumn for two columns
\usetheme{metropolis}
\usepackage{multicol}
\usepackage[style=british]{csquotes}

\def\signed #1{{\leavevmode\unskip\nobreak\hfil\penalty50\hskip1em
  \hbox{}\nobreak\hfill #1%
  \parfillskip=0pt \finalhyphendemerits=0 \endgraf}}

\newsavebox\mybox
\newenvironment{aquote}[1]
  {\savebox\mybox{#1}\begin{quote}\openautoquote\hspace*{-.7ex}}
  {\unskip\closeautoquote\vspace*{1mm}\signed{\usebox\mybox}\end{quote}}

\usepackage[utf8]{inputenc}
\newtheorem*{question}{Question}

\newcommand{\vectorproj}[2][]{\mathrm{proj}_{\vect{#1}}\vect{#2}}
\newcommand{\vectorcomp}[2][]{\mathrm{comp}_{\vect{#1}}\vect{#2}}
\newcommand{\vect}{\mathbf}
\newcommand{\R}{\mathbb{R}}
%% commentary bubble
\newcommand{\SV}[2][]{\sidenote[colback=green!10]{\textbf{SV\xspace #1:} #2}}

\title{ Multivariable Calculus \\  Constrained Optimization }
\date{Spring 2024}

\begin{document}

\maketitle

\begin{frame}
    \frametitle{Constrained optimization}
Constrained optimization takes various forms, depending on the assumptions.

Three kinds of constraints:

\begin{enumerate}
    \item Domain
    \item Side condition of the form $g(x) = k$
    \item A mix of those
\end{enumerate}


\end{frame}


\begin{frame}

Typically, people will write as follows
\begin{equation*}
\begin{aligned}
& \underset{x}{\text{minimize}}
& & f(x) \\
& \text{subject to}
& & 
g(x) = k \,.
\end{aligned}
\end{equation*}
\end{frame}


\begin{frame}
    \frametitle{Absolute Max / Min}
    \begin{theorem}
        If $f$ is continuous on a closed, bounded set $D$ in $\mathbb{R}^2$, then $f$ attains an absolute maximum value $f(x_1, y_1)$ and an absolute minimum value $f(x_2, y_2)$ at some points $(x_1, y_1)$ and $(x_2, y_2)$ in $D$.
    \end{theorem}
\end{frame}

\begin{frame}
    To find the absolute maximum and minimum values of a continuous function $f$ on a closed, bounded set $D$:
\begin{enumerate}
    \item Find the values of $f$ at the critical points of $f$ in $D$.
    \item Find the extreme values of $f$ on the boundary of $D$.
    \item The largest of the values from steps 1 and 2 is the absolute maximum value; the smallest of these values is the absolute minimum value.
\end{enumerate}
\end{frame}

\begin{frame}
    \frametitle{Example}
    Find the absolute maximum and minimum values of the function $f(x, y) = x^2 - 2xy + 1/2y$ on the rectangle $D = \{(x, y) \,|\, 0 \leq x \leq 3, 0 \leq y \leq 2\}$.
\end{frame}

\begin{frame}
    \frametitle{Constrained optimization}
    
\begin{theorem}[Method of Lagrange Multiplier]

Suppose the maximum/minimum values of \(f\) exist and \(\nabla g(\mathbf{x}) \not=0\) where \(g(\mathbf{x}) = k\).
To find the maximum and minimum values of \(f\) subject to constraint
\(g(\mathbf{x}) = k\), we do the following:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Find all values of \(\mathbf{x}\) and \(\lambda \in \mathbb{R}\) such that
  \begin{equation*}
   \nabla f(\mathbf{x}) =\lambda \nabla g(\mathbf{x})\,,
  \end{equation*}
  and
  \begin{equation*}
   g(\mathbf{x}) = k \,.
  \end{equation*}
\item
  Evaluate \(f\) at all the points \(\mathbf{x}\) that result from step 1. The largest of
  these values is the maximum of \(f\); the smallest is the minimum value of \(f\).
\end{enumerate}

\end{theorem}
\end{frame}

\begin{frame}
    \frametitle{Example}
    \url{https://youtu.be/hQ4UNu1P2kw}
\end{frame}

\begin{frame}
    \frametitle{Worksheet}
         Find the points on the sphere $x^2 + y^2 + z^2 =4$
            that are closest to and farthest from the point 
            $(1,1,1)$.
\end{frame}

\begin{frame}
    \frametitle{Two constraints}
        Problem 15 from \url{https://activecalculus.org/multi/S-10-8-Lagrange-Multipliers.html}

        \includegraphics[scale=0.5]{two-constraints.png}
\end{frame}

\end{document}
